<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‰∏≠ÂúãÁæéÈ£üÂÆàË°õÈöä - ÂÆûÁâ©ÂõæÁâáÁâà</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Comic Sans MS', 'Marker Felt', sans-serif;
        }
        
        body {
            background: linear-gradient(to bottom, #fff6e9, #ffebcd);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 15px;
            overflow-x: hidden;
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100"><rect fill="none" width="100" height="100"/><path d="M20,20C30,10 70,10 80,20C90,30 90,70 80,80C70,90 30,90 20,80C10,70 10,30 20,20Z" fill="none" stroke="%23ffccbc" stroke-width="2"/></svg>');
            background-repeat: repeat;
        }
        
        .container {
            width: 100%;
            max-width: 1200px;
            min-height: 500px;
            aspect-ratio: 4/3;
            background: rgba(255, 253, 245, 0.95);
            border-radius: 25px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
            position: relative;
            overflow: hidden;
            border: 12px solid #ffde59;
            display: flex;
            flex-direction: column;
        }
        
        .header {
            text-align: center;
            padding: 15px;
            background: linear-gradient(to bottom, #ffde59, #ffb300);
            border-bottom: 5px solid #e62129;
        }
        
        h1 {
            color: #e62129;
            font-size: 2.8rem;
            text-shadow: 3px 3px 0 #fff, 
                        5px 5px 0 #00000015;
            margin: 0;
            letter-spacing: 2px;
        }
        
        .game-area {
            flex: 1;
            display: flex;
            flex-direction: column;
            position: relative;
        }
        
        .top-area {
            height: 25%;
            position: relative;
            background: linear-gradient(to bottom, #fffbe6, #fff6d5);
            border-bottom: 3px dashed #ffb300;
        }
        
        .bottom-area {
            height: 75%;
            position: relative;
            background: linear-gradient(to top, #fffbe6, #fff6d5);
            display: flex;
            justify-content: center;
            align-items: flex-end;
            padding-bottom: 20px;
        }
        
        .controls {
            display: flex;
            justify-content: space-between;
            padding: 15px 25px;
            background: #fff;
            border-top: 3px solid #ffde59;
        }
        
        .attempts-counter {
            background: #ffde59;
            padding: 12px 25px;
            border-radius: 50px;
            font-size: 1.8rem;
            font-weight: bold;
            color: #e62129;
            box-shadow: 0 5px 0 #ffb300;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .start-btn {
            background: #4caf50;
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 50px;
            font-size: 1.5rem;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 5px 0 #388e3c;
            transition: all 0.2s;
        }
        
        .start-btn:hover {
            background: #43a047;
            transform: translateY(2px);
            box-shadow: 0 3px 0 #388e3c;
        }
        
        .black-hole {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 70px;
            height: 70px;
            background: #000;
            border-radius: 50%;
            box-shadow: 0 0 0 8px #333, 0 0 0 16px #666, 0 0 15px 20px rgba(0,0,0,0.4);
            z-index: 10;
        }
        
        .mouse-container {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 60px;
            height: 60px;
            z-index: 11;
            transition: all 3s ease-in-out;
        }
        
        .mouse-body {
            width: 50px;
            height: 35px;
            background: #a1887f;
            border-radius: 50% 50% 40% 40%;
            position: relative;
        }
        
        .mouse-ear {
            position: absolute;
            width: 20px;
            height: 20px;
            background: #a1887f;
            border-radius: 50%;
            top: -10px;
        }
        
        .mouse-ear.left {
            left: 5px;
        }
        
        .mouse-ear.right {
            right: 5px;
        }
        
        .mouse-eye {
            position: absolute;
            width: 8px;
            height: 8px;
            background: #333;
            border-radius: 50%;
            top: 10px;
        }
        
        .mouse-eye.left {
            left: 10px;
        }
        
        .mouse-eye.right {
            right: 10px;
        }
        
        .mouse-nose {
            position: absolute;
            width: 10px;
            height: 8px;
            background: #ff8a80;
            border-radius: 50%;
            bottom: 5px;
            left: 50%;
            transform: translateX(-50%);
        }
        
        .mouse-whisker {
            position: absolute;
            height: 1px;
            background: #000;
            bottom: 10px;
        }
        
        .mouse-whisker.left1 {
            left: 5px;
            width: 15px;
            transform: rotate(-20deg);
        }
        
        .mouse-whisker.left2 {
            left: 5px;
            width: 15px;
            transform: rotate(0deg);
        }
        
        .mouse-whisker.left3 {
            left: 5px;
            width: 15px;
            transform: rotate(20deg);
        }
        
        .mouse-whisker.right1 {
            right: 5px;
            width: 15px;
            transform: rotate(20deg);
        }
        
        .mouse-whisker.right2 {
            right: 5px;
            width: 15px;
            transform: rotate(0deg);
        }
        
        .mouse-whisker.right3 {
            right: 5px;
            width: 15px;
            transform: rotate(-20deg);
        }
        
        .food-cards {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 15px;
            padding: 0 20px;
            width: 100%;
            max-height: 100%;
            overflow-y: auto;
        }
        
        .food-card {
            width: 140px;
            height: 160px;
            background: white;
            border-radius: 15px;
            box-shadow: 0 8px 15px rgba(0, 0, 0, 0.12);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: space-between;
            padding: 0;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
            border: 4px solid #ffb300;
        }
        
        .food-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 20px rgba(0, 0, 0, 0.15);
        }
        
        .food-image {
            width: 100%;
            height: 110px;
            object-fit: cover;
            border-top-left-radius: 11px;
            border-top-right-radius: 11px;
        }
        
        .food-name {
            text-align: center;
            font-weight: bold;
            color: #e62129;
            font-size: 1rem;
            background: #ffde59;
            padding: 8px 5px;
            border-radius: 0 0 10px 10px;
            width: 100%;
        }
        
        .feedback {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 4rem;
            opacity: 0;
            transition: opacity 0.5s;
            pointer-events: none;
            z-index: 100;
            text-shadow: 3px 3px 0 #fff;
        }
        
        .game-over {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(255, 240, 180, 0.95);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: #e62129;
            font-size: 2.5rem;
            z-index: 100;
            display: none;
            text-align: center;
            padding: 20px;
        }
        
        .celebration {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1000;
            display: none;
        }
        
        .confetti {
            position: absolute;
            width: 15px;
            height: 15px;
            background: #f0f;
            opacity: 0.8;
            animation: fall linear forwards;
        }
        
        @keyframes fall {
            to {
                transform: translateY(100vh) rotate(720deg);
                opacity: 0;
            }
        }
        
        .reset-btn {
            background: #f44336;
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 50px;
            font-size: 1.5rem;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 5px 0 #d32f2f;
            transition: all 0.2s;
            margin-top: 20px;
        }
        
        .reset-btn:hover {
            background: #e53935;
            transform: translateY(2px);
            box-shadow: 0 3px 0 #d32f2f;
        }
        
        .instructions {
            text-align: center;
            margin: 15px 0;
            color: #e62129;
            font-weight: bold;
            font-size: 1.2rem;
            max-width: 800px;
            line-height: 1.5;
        }
        
        .music-control {
            position: absolute;
            top: 20px;
            right: 20px;
            background: #ffde59;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            box-shadow: 0 4px 0 #ffb300;
            z-index: 20;
        }
        
        .music-control i {
            font-size: 24px;
            color: #e62129;
        }
        
        /* ÂìçÂ∫îÂºèËÆæËÆ° - Â¢ûÂº∫Áâà */
        @media (max-width: 1200px) {
            .container {
                max-width: 95%;
            }
        }
        
        @media (max-width: 900px) {
            .container {
                max-width: 95%;
                aspect-ratio: 3/4;
                min-height: auto;
            }
            
            .food-cards {
                gap: 10px;
            }
            
            .food-card {
                width: 120px;
                height: 140px;
            }
            
            .food-image {
                height: 90px;
            }
            
            h1 {
                font-size: 2.2rem;
            }
            
            .attempts-counter {
                font-size: 1.5rem;
                padding: 10px 20px;
            }
            
            .start-btn, .reset-btn {
                font-size: 1.2rem;
                padding: 10px 20px;
            }
            
            .top-area {
                height: 22%;
            }
            
            .bottom-area {
                height: 78%;
                padding-bottom: 15px;
            }
        }
        
        @media (max-width: 768px) {
            .container {
                aspect-ratio: auto;
                min-height: 600px;
            }
            
            h1 {
                font-size: 2rem;
            }
            
            .food-card {
                width: 100px;
                height: 120px;
            }
            
            .food-image {
                height: 75px;
            }
            
            .food-name {
                font-size: 0.9rem;
                padding: 6px 3px;
            }
            
            .controls {
                padding: 10px 15px;
            }
            
            .attempts-counter {
                font-size: 1.3rem;
                padding: 8px 15px;
            }
            
            .start-btn, .reset-btn {
                font-size: 1.1rem;
                padding: 8px 15px;
            }
            
            .black-hole {
                width: 60px;
                height: 60px;
            }
            
            .mouse-container {
                width: 50px;
                height: 50px;
            }
        }
        
        @media (max-width: 600px) {
            body {
                padding: 10px;
                justify-content: flex-start;
            }
            
            .container {
                width: 100%;
                min-height: 500px;
                border-width: 8px;
                border-radius: 20px;
            }
            
            h1 {
                font-size: 1.8rem;
            }
            
            .header {
                padding: 10px;
            }
            
            .food-cards {
                gap: 8px;
                padding: 0 10px;
            }
            
            .food-card {
                width: 85px;
                height: 105px;
            }
            
            .food-image {
                height: 65px;
            }
            
            .food-name {
                font-size: 0.8rem;
                padding: 5px 2px;
            }
            
            .attempts-counter {
                font-size: 1.1rem;
                padding: 6px 12px;
            }
            
            .start-btn, .reset-btn {
                font-size: 1rem;
                padding: 6px 12px;
            }
            
            .black-hole {
                width: 50px;
                height: 50px;
            }
            
            .mouse-container {
                width: 45px;
                height: 45px;
            }
            
            .mouse-body {
                width: 40px;
                height: 28px;
            }
            
            .mouse-ear {
                width: 16px;
                height: 16px;
                top: -8px;
            }
            
            .mouse-eye {
                width: 6px;
                height: 6px;
                top: 8px;
            }
            
            .mouse-eye.left {
                left: 8px;
            }
            
            .mouse-eye.right {
                right: 8px;
            }
            
            .music-control {
                width: 40px;
                height: 40px;
                top: 15px;
                right: 15px;
            }
            
            .music-control i {
                font-size: 20px;
            }
            
            .instructions {
                font-size: 1rem;
                margin: 10px 0;
            }
            
            .reset-btn {
                margin-top: 15px;
            }
        }
        
        @media (max-width: 480px) {
            .container {
                min-height: 450px;
            }
            
            h1 {
                font-size: 1.6rem;
            }
            
            .food-cards {
                gap: 6px;
            }
            
            .food-card {
                width: 75px;
                height: 95px;
            }
            
            .food-image {
                height: 60px;
            }
            
            .food-name {
                font-size: 0.7rem;
            }
            
            .top-area {
                height: 20%;
            }
            
            .bottom-area {
                height: 80%;
                padding-bottom: 10px;
            }
            
            .controls {
                flex-direction: column;
                align-items: center;
                gap: 10px;
            }
            
            .attempts-counter, .start-btn {
                width: 100%;
                justify-content: center;
            }
            
            .game-over {
                font-size: 2rem;
            }
        }
        
        @media (max-width: 360px) {
            h1 {
                font-size: 1.4rem;
            }
            
            .food-card {
                width: 65px;
                height: 85px;
            }
            
            .food-image {
                height: 55px;
            }
            
            .food-name {
                font-size: 0.65rem;
                padding: 4px 1px;
            }
            
            .attempts-counter {
                font-size: 1rem;
            }
            
            .start-btn, .reset-btn {
                font-size: 0.9rem;
            }
        }
        
        /* Ê®™Â±èËÆæÂ§áÈÄÇÈÖç */
        @media (max-height: 500px) and (orientation: landscape) {
            body {
                padding: 5px;
            }
            
            .container {
                min-height: 300px;
                aspect-ratio: 16/9;
            }
            
            .top-area {
                height: 30%;
            }
            
            .bottom-area {
                height: 70%;
                padding-bottom: 10px;
            }
            
            .food-card {
                width: 80px;
                height: 90px;
            }
            
            .food-image {
                height: 55px;
            }
            
            .food-name {
                font-size: 0.7rem;
                padding: 4px 2px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>‰∏≠ÂúãÁæéÈ£üÂÆàË°õÈöä</h1>
        </div>
        
        <div class="music-control" id="music-control">
            <i class="fas fa-volume-up"></i>
        </div>
        
        <div class="game-area">
            <div class="top-area">
                <div class="black-hole"></div>
                <div class="mouse-container">
                    <div class="mouse-body">
                        <div class="mouse-ear left"></div>
                        <div class="mouse-ear right"></div>
                        <div class="mouse-eye left"></div>
                        <div class="mouse-eye right"></div>
                        <div class="mouse-nose"></div>
                        <div class="mouse-whisker left1"></div>
                        <div class="mouse-whisker left2"></div>
                        <div class="mouse-whisker left3"></div>
                        <div class="mouse-whisker right1"></div>
                        <div class="mouse-whisker right2"></div>
                        <div class="mouse-whisker right3"></div>
                    </div>
                </div>
            </div>
            
            <div class="bottom-area">
                <div class="food-cards">
                    <div class="food-card" data-food="Âåó‰∫¨ÊãâÈù¢">
                        <img src="https://resource.zhoudaosh.com/files/cimages/2019/20190621/ead5a04599aba35b4b1e6647214248f121175275.jpg!shoudaosh_img" class="food-image" alt="Âåó‰∫¨ÊãâÈù¢">
                        <div class="food-name">Âåó‰∫¨ÊãâÈ∫µ</div>
                    </div>
                    <div class="food-card" data-food="Á≥ñËÄ≥Êúµ">
                        <img src="https://k.sinaimg.cn/n/sinakd10114/270/w640h430/20220629/1ffa-1d20869ad86aec24b39a02f7f8686f62.jpg/w700d1q75cms.jpg" class="food-image" alt="Á≥ñËÄ≥Êúµ">
                        <div class="food-name">Á≥ñËÄ≥Êúµ</div>
                    </div>
                    <div class="food-card" data-food="ÂÜ∞Á≥ñËë´Ëä¶">
                        <img src="https://downloads.ctfassets.net/pl05rcmbdryr/35ux6iYvZMz7uzdWpl83Iw/2a10234ce67ae9fbb0f30ef09d89e6b3/shutterstock_1277494621.jpg?w=1920&q=75&fm=webp" class="food-image" alt="ÂÜ∞Á≥ñËë´Ëä¶">
                        <div class="food-name">ÂÜ∞Á≥ñËë´ËòÜ</div>
                    </div>
                    <div class="food-card" data-food="ÂºÄÂè£Á¨ë">
                        <img src="https://imgproxy.icook.network/safe/rt:fit/w:1080/el:0/q:80/plain/http://tokyo-kitchen.icook.tw.s3.amazonaws.com/uploads/recipe/cover/327566/c9aa9fb416fa6e01.jpg" class="food-image" alt="ÂºÄÂè£Á¨ë">
                        <div class="food-name">ÈñãÂè£Á¨ë</div>
                    </div>
                    <div class="food-card" data-food="ÂàÄÂâäÈù¢">
                        <img src="https://www.chinastarnews.com/wp-content/uploads/2020/04/360%E6%88%AA%E5%9B%BE20200406205359356.jpg" class="food-image" alt="ÂàÄÂâäÈù¢">
                        <div class="food-name">ÂàÄÂâäÈ∫µ</div>
                    </div>
                    <div class="food-card" data-food="Áãó‰∏çÁêÜÂåÖÂ≠ê">
                        <img src="https://i.epochtimes.com/assets/uploads/2021/03/id12843786-42ca4352aa-.jpg" class="food-image" alt="Áãó‰∏çÁêÜÂåÖÂ≠ê">
                        <div class="food-name">Áãó‰∏çÁêÜÂåÖÂ≠ê</div>
                    </div>
                    <div class="food-card" data-food="ÁÇ∏ËÇâ‰∏≤">
                        <img src="https://wy-static.wenxiaobai.com/aigc-online/delogo_ea66fde7-1b39-41be-99e6-43851bfa548f.webp?ratioWH=0.6666666666666666&type=opt" class="food-image" alt="ÁÇ∏ËÇâ‰∏≤">
                        <div class="food-name">ÁÉ§ËÇâ‰∏≤</div>
                    </div>
                </div>
            </div>
            
            <div class="feedback">üò¢</div>
            <div class="game-over">
                <div>ÈÅäÊà≤ÁµêÊùü!</div>
                <div class="score">ÊàêÂäüÂÆàË°õ: <span id="saved-count">0</span>/7</div>
            </div>
        </div>
        
        <div class="controls">
            <button class="start-btn"><i class="fas fa-play"></i> ÈñãÂßãÈÅäÊà≤</button>
            <div class="attempts-counter"><i class="fas fa-mouse"></i> Âá∫Âãï: <span id="attempts">0</span>/7</div>
        </div>
    </div>
    
    <div class="instructions">
        <p>Â∞èËÄÅÈº†ÊÉ≥ÂÅ∑Ëµ∞Âåó‰∫¨ÁæéÈ£üÔºÅÈªûÊíÉË¢´ÊãñËµ∞ÁöÑÁæéÈ£üÂç°Áâá‰øùË≠∑ÂÆÉÂÄëÔºÅËÄÅÈº†Âè™ÊúÉÂá∫Âãï7Ê¨°„ÄÇ</p>
    </div>
    
    <button class="reset-btn"><i class="fas fa-redo"></i> ÈáçÊñ∞ÈñãÂßã</button>
    
    <div class="celebration" id="celebration"></div>
    
    <audio id="error-sound" preload="auto">
        <source src="data:audio/mpeg;base64,SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU4Ljc2LjEwMAAAAAAAAAAAAAAA//tUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAWGluZwAAAA8AAAACAAADwADw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PD//////////////////////////////////////////////////////////////////////////8AAAAATGF2YzU4LjEzAAAAAAAAAAAAAAAAJAAAAAAAAAAAA8DpJc1TAAAAAAD/+9DEAAAIpANLtAAACLiA6fcwwABBJiZ5mZgAACLi4ÊûÅÁÆÄÈîôËØØÈü≥Êïà" type="audio/mpeg">
    </audio>
    
    <audio id="bg-music" loop preload="auto">
        <source src="https://assets.mixkit.co/music/preview/mixkit-happy-times-158.mp3" type="audio/mpeg">
    </audio>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Ê∏∏ÊàèÂÖÉÁ¥†
            const startBtn = document.querySelector('.start-btn');
            const resetBtn = document.querySelector('.reset-btn');
            const attemptsDisplay = document.getElementById('attempts');
            const mouse = document.querySelector('.mouse-container');
            const foodCards = document.querySelectorAll('.food-card');
            const feedback = document.querySelector('.feedback');
            const gameOver = document.querySelector('.game-over');
            const savedCount = document.getElementById('saved-count');
            const celebration = document.getElementById('celebration');
            const errorSound = document.getElementById('error-sound');
            const bgMusic = document.getElementById('bg-music');
            const musicControl = document.getElementById('music-control');
            const musicIcon = musicControl.querySelector('i');
            
            // Ê∏∏ÊàèÁä∂ÊÄÅ
            let gameActive = false;
            let attemptsLeft = 7;
            let savedFoods = 0;
            let currentTarget = null;
            let mouseMoving = false;
            let musicPlaying = false;
            
            // ÂºÄÂßãÊ∏∏Êàè
            startBtn.addEventListener('click', startGame);
            
            // ÈáçÁΩÆÊ∏∏Êà≤
            resetBtn.addEventListener('click', resetGame);
            
            // Èü≥‰πêÊéßÂà∂
            musicControl.addEventListener('click', toggleMusic);
            
            // ÁÇπÂáªÈ£üÁâ©Âç°Áâá
            foodCards.forEach(card => {
                card.addEventListener('click', () => {
                    if (!gameActive || !mouseMoving || card !== currentTarget) return;
                    
                    // ÊàêÂäüÈòªÊ≠¢ËÄÅÈº†
                    mouseMoving = false;
                    mouse.style.transition = 'all 1.5s ease-in-out';
                    
                    // ËøîÂõûÈªëÊ¥û‰ΩçÁΩÆ
                    const holeRect = document.querySelector('.black-hole').getBoundingClientRect();
                    const containerRect = document.querySelector('.game-area').getBoundingClientRect();
                    const holeX = holeRect.left - containerRect.left + holeRect.width / 2;
                    const holeY = holeRect.top - containerRect.top + holeRect.height / 2;
                    
                    mouse.style.left = `${holeX}px`;
                    mouse.style.top = `${holeY}px`;
                    
                    // ÊòæÁ§∫ÊàêÂäüÂèçÈ¶à
                    feedback.textContent = 'üëç';
                    feedback.style.opacity = '1';
                    
                    setTimeout(() => {
                        feedback.style.opacity = '0';
                    }, 1000);
                    
                    // Â¢ûÂä†‰øùÂ≠òÁöÑÈ£üÁâ©ËÆ°Êï∞
                    savedFoods++;
                    savedCount.textContent = savedFoods;
                    
                    // ÂáèÂ∞ëÂ∞ùËØïÊ¨°Êï∞
                    attemptsLeft--;
                    attemptsDisplay.textContent = 7 - attemptsLeft;
                    
                    // Ê£ÄÊü•Ê∏∏ÊàèÊòØÂê¶ÁªìÊùü
                    if (attemptsLeft <= 0) {
                        endGame();
                    } else {
                        // ËÄÅÈº†ËøîÂõûÂêéÁªßÁª≠ÂØªÊâæ‰∏ã‰∏Ä‰∏™ÁõÆÊ†á
                        setTimeout(moveMouse, 1500);
                    }
                });
            });
            
            // ÂºÄÂßãÊ∏∏ÊàèÂáΩÊï∞
            function startGame() {
                if (gameActive) return;
                
                gameActive = true;
                attemptsLeft = 7;
                savedFoods = 0;
                savedCount.textContent = savedFoods;
                attemptsDisplay.textContent = 0;
                
                // ÈöêËóèÊ∏∏ÊàèÁªìÊùüÁîªÈù¢
                gameOver.style.display = 'none';
                
                // ÂºÄÂßãËÄÅÈº†ÁßªÂä®
                setTimeout(moveMouse, 1000);
                
                // Á¶ÅÁî®ÂºÄÂßãÊåâÈíÆ
                startBtn.disabled = true;
                
                // Ëá™Âä®Êí≠ÊîæËÉåÊôØÈü≥‰πê
                if (!musicPlaying) {
                    toggleMusic();
                }
            }
            
            // ÁßªÂä®ËÄÅÈº†
            function moveMouse() {
                if (!gameActive || mouseMoving) return;
                
                // ÈÄâÊã©ÈöèÊú∫ÁõÆÊ†á
                const availableCards = Array.from(foodCards).filter(card => card.style.display !== 'none');
                if (availableCards.length === 0) {
                    endGame();
                    return;
                }
                
                const targetCard = availableCards[Math.floor(Math.random() * availableCards.length)];
                const rect = targetCard.getBoundingClientRect();
                const containerRect = document.querySelector('.game-area').getBoundingClientRect();
                
                // ËÆ°ÁÆóÁõÆÊ†á‰ΩçÁΩÆ
                const targetX = rect.left - containerRect.left + rect.width / 2;
                const targetY = rect.top - containerRect.top + rect.height / 2;
                
                // ËÆæÁΩÆÂΩìÂâçÁõÆÊ†á
                currentTarget = targetCard;
                mouseMoving = true;
                
                // ÁßªÂä®ËÄÅÈº†Âà∞ÁõÆÊ†á (ÊÖ¢ÈÄüÈÄÇÂêàÂπºÂÑø)
                mouse.style.transition = 'all 3s ease-in-out';
                mouse.style.left = `${targetX}px`;
                mouse.style.top = `${targetY}px`;
                
                // ËÄÅÈº†Âà∞ËææÁõÆÊ†áÂêéÂºÄÂßãÊãñÂõû
                setTimeout(() => {
                    if (!gameActive || !mouseMoving) return;
                    
                    // ÂºÄÂßãÊãñÂõûÈ£üÁâ©
                    const holeRect = document.querySelector('.black-hole').getBoundingClientRect();
                    const holeX = holeRect.left - containerRect.left + holeRect.width / 2;
                    const holeY = holeRect.top - containerRect.top + holeRect.height / 2;
                    
                    mouse.style.transition = 'all 3s ease-in-out';
                    mouse.style.left = `${holeX}px`;
                    mouse.style.top = `${holeY}px`;
                    
                    // ÈöêËóèË¢´ÊãñËµ∞ÁöÑÈ£üÁâ©
                    targetCard.style.display = 'none';
                    
                    // Êí≠ÊîæÈîôËØØÈü≥Êïà
                    errorSound.play();
                    
                    // ÊòæÁ§∫ÈÅóÊÜæË°®ÊÉÖ
                    feedback.textContent = 'üò¢';
                    feedback.style.opacity = '1';
                    
                    setTimeout(() => {
                        feedback.style.opacity = '0';
                    }, 1000);
                    
                    // ÂáèÂ∞ëÂ∞ùËØïÊ¨°Êï∞
                    attemptsLeft--;
                    attemptsDisplay.textContent = 7 - attemptsLeft;
                    
                    // ÈáçÁΩÆËÄÅÈº†Áä∂ÊÄÅ
                    setTimeout(() => {
                        mouseMoving = false;
                        
                        // Ê£ÄÊü•Ê∏∏ÊàèÊòØÂê¶ÁªìÊùü
                        if (attemptsLeft <= 0) {
                            endGame();
                        } else if (gameActive) {
                            // ÁªßÁª≠ÁßªÂä®ËÄÅÈº†
                            setTimeout(moveMouse, 1500);
                        }
                    }, 3000);
                }, 3000);
            }
            
            // ÁªìÊùüÊ∏∏Êàè
            function endGame() {
                gameActive = false;
                mouseMoving = false;
                
                // ÂêØÁî®ÂºÄÂßãÊåâÈíÆ
                startBtn.disabled = false;
                
                // ÊòæÁ§∫ÁªìÊûúÊ∂àÊÅØ
                if (savedFoods === 7) {
                    // ÊòæÁ§∫Â∫ÜÁ•ùÂä®Áîª
                    showCelebration();
                    
                    // ÊòæÁ§∫ËÉúÂà©Ê∂àÊÅØ
                    gameOver.innerHTML = '<div>Â§™Ê£í‰∫Ü!</div><div>‰Ω†ÊàêÂäüÂÆàË°õ‰∫ÜÊâÄÊúâÂåó‰∫¨ÁæéÈ£ü!</div>';
                } else {
                    // ÊòæÁ§∫Â§±Ë¥•Ê∂àÊÅØ
                    gameOver.innerHTML = '<div>ÈÅäÊà≤ÁµêÊùü!</div><div>ÊàêÂäüÂÆàË°õ‰∫ÜÂåó‰∫¨ÁæéÈ£ü: ' + savedFoods + '/7</div>';
                }
                gameOver.style.display = 'flex';
            }
            
            // ÈáçÁΩÆÊ∏∏Êàè
            function resetGame() {
                gameActive = false;
                mouseMoving = false;
                
                // ÈáçÁΩÆÂ∞ùËØïÊ¨°Êï∞ÊòæÁ§∫
                attemptsDisplay.textContent = '0';
                
                // ÊòæÁ§∫ÊâÄÊúâÈ£üÁâ©Âç°Áâá
                foodCards.forEach(card => {
                    card.style.display = 'flex';
                });
                
                // ÈáçÁΩÆËÄÅÈº†‰ΩçÁΩÆ
                const holeRect = document.querySelector('.black-hole').getBoundingClientRect();
                const containerRect = document.querySelector('.game-area').getBoundingClientRect();
                const holeX = holeRect.left - containerRect.left + holeRect.width / 2;
                const holeY = holeRect.top - containerRect.top + holeRect.height / 2;
                
                mouse.style.transition = 'none';
                mouse.style.left = `${holeX}px`;
                mouse.style.top = `${holeY}px`;
                
                // ÈöêËóèÂèçÈ¶àÂíåÊ∏∏ÊàèÁªìÊùüÁîªÈù¢
                feedback.style.opacity = '0';
                gameOver.style.display = 'none';
                
                // ÂêØÁî®ÂºÄÂßãÊåâÈíÆ
                startBtn.disabled = false;
            }
            
            // ÂàáÊç¢Èü≥‰πê
            function toggleMusic() {
                if (musicPlaying) {
                    bgMusic.pause();
                    musicIcon.className = 'fas fa-volume-mute';
                } else {
                    bgMusic.play().catch(e => {
                        console.log("Èü≥È¢ëÊí≠ÊîæÂ§±Ë¥•ÔºåÈúÄË¶ÅÁî®Êà∑‰∫§‰∫í: ", e);
                    });
                    musicIcon.className = 'fas fa-volume-up';
                }
                musicPlaying = !musicPlaying;
            }
            
            // Â∫ÜÁ•ùÂä®Áîª
            function showCelebration() {
                celebration.style.display = 'block';
                
                // ÂàõÂª∫ÂΩ©Ëâ≤Á∫∏Â±ë
                for (let i = 0; i < 100; i++) {
                    const confetti = document.createElement('div');
                    confetti.className = 'confetti';
                    confetti.style.left = Math.random() * 100 + 'vw';
                    confetti.style.backgroundColor = `hsl(${Math.random() * 360}, 100%, 50%)`;
                    confetti.style.animationDuration = (Math.random() * 3 + 2) + 's';
                    confetti.style.animationDelay = (Math.random() * 2) + 's';
                    celebration.appendChild(confetti);
                }
                
                // 5ÁßíÂêéÊ∏ÖÈô§Â∫ÜÁ•ùÂä®Áîª
                setTimeout(() => {
                    celebration.style.display = 'none';
                    celebration.innerHTML = '';
                }, 5000);
            }
        });
    </script>
</body>
</html>
